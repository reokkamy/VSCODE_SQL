-- ê¶Œí•œ ê´€ë¦¬ 
-- ### ğŸ”¹ ì‹œìŠ¤í…œ ê¶Œí•œ(System Privileges)  
-- - ë°ì´í„°ë² ì´ìŠ¤ **ì‹œìŠ¤í…œ ì „ì²´ì— ì˜í–¥**ì„ ì£¼ëŠ” ê¶Œí•œ  
-- - ì˜ˆ: CREATE SESSION, CREATE TABLE, CREATE USER ë“±

-- ### ğŸ”¹ ê°ì²´ ê¶Œí•œ(Object Privileges)  
-- - **íŠ¹ì • í…Œì´ë¸”, ë·°, ì‹œí€€ìŠ¤ ë“±ì˜ ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œ**  
-- - ì˜ˆ: SELECT, INSERT, UPDATE, DELETE, REFERENCES ë“±

-- ì‚¬ìš©ì ìƒì„±, LSY4 
create user lsy4 identified by 1234; -- ì‚¬ìš©ì ìƒì„±

--ì‹œìŠ¤í…œ ê¶Œí•œ ë¶€ì—¬ ,  
-- CREATE SESSION : ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì† ê¶Œí•œ
-- CREATE TABLE : í…Œì´ë¸” ìƒì„± ê¶Œí•œ
-- ì‹¤ì œë¡œ , ë””ë¹„ì—ì„œ , ìš©ëŸ‰ì— ëŒ€í•œ ì‚¬ìš© ê¶Œí•œì´ ì—†ì–´ì„œ, 
-- ë§Œë“¤ê¸° ëŠ” ê°€ëŠ¥í•˜ì§€ë§Œ, ì‹¤ì œ ìš©ëŸ‰ì„ ì´ìš©í•  ê¶Œí•œì´ ì—†ì–´ì„œ,ã…£ 
-- ê²°ë¡ , ìƒì„± ë¶ˆê°€. 
grant
   create session,
   create table
to lsy4

-- ì¶”ê°€ ê¶Œí•œì„ ì£¼ê¸°, ì‹¤ì œ ìš©ëŸ‰ì„ ì´ìš©í•  ê¶Œí•œ
-- ìƒˆë¡­ê²Œ ê¶Œí•œ ì¶”ê°€
grant
   unlimited tablespace
to lsy4; -- ë¬´ì œí•œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ê¶Œí•œ ë¶€ì—¬
-- ê¸°ì¡´ ê¶Œí•œì— ìš©ëŸ‰ ê´€ë ¨ ê¶Œí•œ ë¶€ì—¬
alter user lsy4
   quota 100M on users; -- USERS í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì— 100M ì¿¼í„° ë¶€ì—¬
alter user lsy4
   quota unlimited on users; -- USERS í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì— ë¬´ì œí•œ ì¿¼í„° ë¶€ì—¬

-- LSY4 , í…Œì´ë¸” ìƒì„± í™•ì¸, ì¡°íšŒ í™•ì¸. 
create table lsy4.user_table (
   id       number(5),
   name     varchar2(20) not null,
   user_id2 varchar2(20)
);
select *
  from lsy4.user_table; -- í…Œì´ë¸” ìƒì„± í™•ì¸

-- ê¶Œí•œì´ ë¶€ì—¬ ë˜ì§€ ì•Šì€ ì“°ê¸° ì‘ì—…, INSERT ì‘ì—…, 
-- ìê¸°ê°€ ë§Œë“  í…Œì´ë¸”ì— ëŒ€í•´ì„œëŠ” , ë”°ë¡œ ì„¤ì •ì´ ì—†ì–´ë„ ìë™ ì“°ê¸°ê°€ ê°€ëŠ¥í•¨. 
insert into lsy4.user_table (
   id,
   name,
   user_id2
) values ( 1,
           'Test User',
           'test_user' ); -- ê¶Œí•œì´ ì—†ì–´ì„œ ì‹¤íŒ¨
-- ìˆ˜ì • í™•ì¸. 
update lsy4.user_table
   set
   name = 'Updated User'
 where id = 1; -- ìê¸°ê°€ ë§Œë“  í…Œì´ë¸”ì´ë¼ì„œ ìë™ ê¶Œí•œ ì„¤ì •
-- ì‚­ì œ í™•ì¸. 
delete from lsy4.user_table
 where id = 1; -- ìê¸°ê°€ ë§Œë“  í…Œì´ë¸”ì´ë¼ì„œ ìë™ ê¶Œí•œ ì„¤ì •

-- ê¶Œí•œ ì¡°íšŒ 
select *
  from user_sys_privs
 where username = 'LSY4'; -- ì‹œìŠ¤í…œ ê¶Œí•œ ì¡°íšŒ

-- ê¶Œí•œ íšŒìˆ˜ 
revoke
   create table
from lsy4; -- í…Œì´ë¸” ìƒì„± ê¶Œí•œ íšŒìˆ˜

-- ìƒ˜í”Œ í…Œì´ë¸” ìƒì„± 
create table lsy4.sample_table (
   id       number(5),
   name     varchar2(20) not null,
   user_id2 varchar2(20)
);

-- SCOTT ê³„ì •ì—ì„œ ìƒ˜í”Œ í…Œì´ë¸” ìƒì„±
create table scott.sample_table1234 (
   id       number(5),
   name     varchar2(20) not null,
   user_id2 varchar2(20)
);

-- ê°ì²´ ê¶Œí•œ ë¶€ì—¬, 
-- SCOTT ì—ì„œ ìƒ˜í”Œí…Œì´ë¸” ë§Œë“¤ì–´ì„œ, LSY4 , SELECT, INSERT ë§Œ ë¶€ì—¬, ìˆ˜ì •, ì‚­ì œ ë¶ˆê°€. 
grant select,insert on scott.sample_table1234 to lsy4; -- ê°ì²´ ê¶Œí•œ ë¶€ì—¬

-- LSY4 ê³„ì •ì—ì„œ SCOTT.sample_table1234 í…Œì´ë¸” ì¡°íšŒ
select *
  from scott.sample_table1234; -- SCOTT.sample_table1234 í…Œì´ë¸” ì¡°íšŒ
-- LSY4 ê³„ì •ì—ì„œ SCOTT.sample_table1234 í…Œì´ë¸”ì— INSERT ì‘ì—…    
insert into scott.sample_table1234 (
   id,
   name,
   user_id2
) values ( 1,
           'Test User',
           'test_user' ); -- INSERT ì‘ì—…


--ìˆ˜ì • ì‘ì—…, ê¶Œí•œì´ ì—†ì–´ì„œ ì‹¤íŒ¨
update scott.sample_table1234
   set
   name = 'Updated User'
 where id = 1; -- ìˆ˜ì • ì‘ì—…, ê¶Œí•œì´ ì—†ì–´ì„œ ì‹¤íŒ¨
-- ì‚­ì œ ì‘ì—…, ê¶Œí•œì´ ì—†ì–´ì„œ ì‹¤íŒ¨
delete from scott.sample_table1234
 where id = 1; -- ì‚­ì œ ì‘ì—…, ê¶Œí•œì´ ì—†ì–´ì„œ ì‹¤íŒ¨


-- ë‹¤ì‹œ SCOTT ê³„ì •ì—ì„œ LSY4 ê³„ì •ì— UPDATE, DELETE ê¶Œí•œ ë¶€ì—¬
grant update,delete on scott.sample_table1234 to lsy4; -- ê°ì²´ ê¶Œí•œ ë¶€ì—¬

-------------------------------------------------------------------

-- ë¡¤ê´€ë¦¬ 
-- ì‚¬ì „ ì •ì˜ëœ ë¡¤  
-- | ë¡¤ ì´ë¦„         | ì„¤ëª… |
-- |----------------|------|
-- | CONNECT        | ê¸°ë³¸ ì ‘ì† ë° ì¼ë°˜ SELECT/INSERT ê¶Œí•œ |
-- | RESOURCE       | í…Œì´ë¸”, ì¸ë±ìŠ¤ ë“± ê°ì²´ ìƒì„± ê°€ëŠ¥ |
-- | DBA            | ëª¨ë“  ê¶Œí•œ í¬í•¨ (ê´€ë¦¬ì ì „ìš©) |

-- ì´ˆë°˜ì— , ì‚¬ìš©ì ìƒì„±ë°, ê¶Œí•œ ë¶€ì—¬ì‹œ ì‚¬ìš©í–ˆë˜ ëª…ë ¹ì–´ë¥¼ ë¦¬ë·°, 
create user scott identified by tiger;

grant connect,resource,dba to scott;

-- ì‚¬ìš©ì ì •ì˜ ë¡¤  
-- ì‚¬ì „ì— ì •ì˜ëœ ë¡¤ ì²˜ëŸ¼, ìš°ë¦¬ê°€ ì„ì˜ë¡œ ë¡¤ì„ ë§Œë“¤ìˆ˜ ìˆë‹¤. 

-- ì‚¬ìš©ì ì •ì˜ ë¡¤ ìƒì„±
create role my_custom_role; -- ì‚¬ìš©ì ì •ì˜ ë¡¤ ìƒì„±

-- ì‚¬ìš©ì ì •ì˜ ë¡¤ì— ê¶Œí•œ ë¶€ì—¬
grant
   create session,resource to my_custom_role; -- ì„¸ì…˜ ìƒì„± ê¶Œí•œ ë¶€ì—¬

-- ì‚¬ìš©ì ì •ì˜ ë¡¤ì„ ì‚¬ìš©ìì—ê²Œ ë¶€ì—¬
grant my_custom_role to lsy4; -- ì‚¬ìš©ìì—ê²Œ ì‚¬ìš©ì ì •ì˜ ë¡¤ ë¶€ì—¬

-- í€´ì¦ˆ1, 
-- SYSTEM(ê³„ì • ë˜ëŠ” ìŠ¤ì½§) ì‚¬ìš©ì ì •ì˜ ë¡¤ CREATE TABLE, CREATE VIEW )ìƒì„± í•˜ê¸°. 
-- LSY6 ìƒˆë¡œìš´ ê³„ì • ìƒì„±í•˜ê³ , 
create user lsy6 identified by 1234; -- ìƒˆë¡œìš´ ì‚¬ìš©ì ìƒì„±
-- ì‚¬ìš©ì ì •ì˜ ë¡¤ ë¶€ì—¬(CREATE TABLE, CREATE VIEW )
create role my_table_view_role; -- ì‚¬ìš©ì ì •ì˜ ë¡¤ ìƒì„±
grant
   create table,
   create view
to my_table_view_role; -- í…Œì´ë¸” ë° ë·° ìƒì„± ê¶Œí•œ ë¶€ì—¬
grant my_table_view_role to lsy6; -- ì‚¬ìš©ìì—ê²Œ ì‚¬ìš©ì ì •ì˜ ë¡¤ ë¶€ì—¬
grant
   create session,
   create table
to lsy6;

 



-- í€´ì¦ˆ2, 
-- ê³„ì • LSY6 , ë””ë¹„ ì ‘ê·¼ ë° í…Œì´ë¸” ìƒì„±, ë·° ìƒì„±í•´ë³´ê¸°
create table lsy6.test_table (
   id   number(5),
   name varchar2(20)
);
insert into lsy6.test_table (
   id,
   name
) values ( 12,
           'í™ê¸¸ë™' );

-- ì‚¬ìš©ëŸ‰ ë¶€ë¶„ ì˜¤ë¥˜ ë°œìƒì‹œ, ì¡°ì •í•´ë³´ê¸°. íŒíŠ¸) ë¯¸ë¦¬ RESOURCE ê¶Œí•œ ì£¼ê¸° 
grant resource to lsy6;
grant
   unlimited tablespace
to lsy6;
alter user lsy6
   quota unlimited on users;
-- í€´ì¦ˆ3, 
-- ê¶Œí•œ ì¡°íšŒ í™•ì¸. 
select *
  from user_sys_privs
 where username = 'LSY6';

commit;